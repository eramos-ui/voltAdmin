(()=>{var e={};e.id=1972,e.ids=[1972],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},20589:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>v,tree:()=>d}),i(1692),i(11506),i(96560);var r=i(23191),a=i(88716),s=i(37922),o=i.n(s),n=i(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);i.d(t,c);let d=["",{children:["project",{children:["activitySection",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,1692)),"D:\\Documents\\GitHub\\voltAdmin\\app\\project\\activitySection\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,11506)),"D:\\Documents\\GitHub\\voltAdmin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.bind(i,96560)),"D:\\Documents\\GitHub\\voltAdmin\\app\\not-found.tsx"]}],l=["D:\\Documents\\GitHub\\voltAdmin\\app\\project\\activitySection\\page.tsx"],u="/project/activitySection/page",p={require:i,loadChunk:()=>Promise.resolve()},v=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/project/activitySection/page",pathname:"/project/activitySection",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79220:(e,t,i)=>{Promise.resolve().then(i.bind(i,6336))},6336:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var r=i(10326),a=i(17577),s=i(39379),o=i(23703),n=i(59905),c=i(68117);let d=({columns:e,handleEdit:t,handleAdd:i,selectedRow:s,setSelectedRow:d})=>{let{values:l,setFieldValue:u}=(0,o.u6)(),[p,v]=(0,a.useState)();return((0,a.useEffect)(()=>{if(!s)return;let e=s.NumActividad?s.NumActividad.toString():"",t=new Set(l.activities?.map(e=>String(e.NumActividad)));v((0,c.f)(e,t))},[s,l.activities]),0===l.activities.length)?null:r.jsx(r.Fragment,{children:r.jsx("div",{style:{marginLeft:"0rem"},children:r.jsx(n.O,{title:"Actividades actuales",columns:e,data:l.activities,actions:["add","edit","delete"],labelButtomActions:[s?`Agregar actividad ${p}`:"Agregar actividad","",""],actionsTooltips:[`Agregar actividad que sigue a la seleccionada (${p})`,"Editar esta actividad","Eliminar esta actividad"],onAdd:i,onEdit:()=>t,onDelete:e=>{let t=l.activities[0].NumActividad;if(l.activities?.some(e=>e.NumActividad.toString().startsWith(`${t}.`))){alert(`No puedes eliminar la actividad "${t} ${e.Actividad}" porque tiene actividades dependientes.`);return}window.confirm(`\xbfEliminar la actividad "${t} ${e.Actividad}"?`)&&u("activities",l.activities.filter(e=>e.NumActividad!==t))},gridWidth:"95%",rowsToShow:7,exportable:!0,borderVertical:!0,rowHeight:"30px",selectable:!0,onRowSelect:e=>{d(e)},fontSize:"13px"})})})};var l=i(35047),u=i(34548),p=i(29497),v=i(43440);let m=()=>{let e=(0,l.useRouter)();return r.jsx(u.op,{buttonStyle:"primary",size:"small",htmlType:"button",label:"Volver a p\xe1gina inicial",style:{marginLeft:5},icon:r.jsx(p.G,{icon:v.J9Y,size:"lg",color:"white"}),onClick:()=>e.push("/")})};var x=i(77505),g=i(81210),h=i(3698);let A=()=>{let[e,t]=(0,a.useState)([]),[i,o]=(0,a.useState)(),[n,l]=(0,a.useState)(),[u,p]=(0,a.useState)(null),[v,A]=(0,a.useState)(!1),[S,f]=(0,a.useState)(!1),[b,j]=(0,a.useState)(null),[q,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(!1),_=()=>{A(!1),f(!1),j(null)};return(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl font-bold text-center",children:"Activity section"}),r.jsx(s.Z,{}),e.length>0&&r.jsx(d,{columns:i,handleEdit:e=>{j(e),f(!0),console.log("Editar actividad:",e)},handleAdd:()=>{if(!u){alert("Debe seleccionar la actividad previa a la que desea agregar.");return}let t=u.NumActividad?u.NumActividad.toString():"",i=new Set(e?.map(e=>String(e.NumActividad))),r=(0,c.f)(t,i);console.log("Agregar nueva actividad",u,r),y(r),A(!0)},selectedRow:u,setSelectedRow:p}),(S||v)&&r.jsx(g.Z,{isOpen:S||v,onClose:_,height:"70vh",title:v?`Agregar actividad ${q}`:`Modificar actividad ${b?.NumActividad}`,children:r.jsx(h.Z,{columns:n,initialValues:b||{NumActividad:q,Actividad:"",Presupuesto:"",FechaInicio:"",FechaTermino:""},onSave:i=>{v?t(e?(0,x.z)([...e,i]):[i]):S&&t(e?.map(e=>e.NumActividad===b?.NumActividad?i:e)),A(!1),f(!1),j(null)},onCancel:_,setIsDirty:N})}),r.jsx(m,{})]})}},1692:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(68570).createProxy)(String.raw`D:\Documents\GitHub\voltAdmin\app\project\activitySection\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[9276,9154,123,1059,9541,4258,5314],()=>i(20589));module.exports=r})();
(()=>{var e={};e.id=3373,e.ids=[3373,9727],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},2313:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),t(63648),t(11506),t(96560);var i=t(23191),s=t(88716),r=t(37922),o=t.n(r),l=t(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(a,n);let c=["",{children:["activity",{children:["adminActivity",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63648)),"D:\\Documents\\GitHub\\voltAdmin\\app\\activity\\adminActivity\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"D:\\Documents\\GitHub\\voltAdmin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"D:\\Documents\\GitHub\\voltAdmin\\app\\not-found.tsx"]}],u=["D:\\Documents\\GitHub\\voltAdmin\\app\\activity\\adminActivity\\page.tsx"],d="/activity/adminActivity/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/activity/adminActivity/page",pathname:"/activity/adminActivity",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15483:(e,a,t)=>{Promise.resolve().then(t.bind(t,16230))},16230:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var i=t(10326),s=t(17577),r=t(77109),o=t(35047),l=t(10123),n=t(95397),c=t(23703),u=t(34548),d=t(29497),p=t(43440),m=t(19727),v=t(40959);let g=async(e,a)=>{console.log("en updateActivity",e,a),await fetch("/api/updateActivity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({values:e,userModification:a})})},b=async()=>{let e=await (0,n.Od)("getResponsables");if(e)return e},h=l.Ry({formaEjecucion:l.Z_().required("La forma de ejecuci\xf3n de la actividad es obligatoria"),responsable:l.Z_().required("Seleccione el responsable de la actividad")}),x=()=>{let e=(0,o.useRouter)(),a=(0,o.useSearchParams)(),{data:t,status:l}=(0,r.useSession)(),[x,j]=(0,s.useState)(""),[y,f]=(0,s.useState)(!0),[A,P]=(0,s.useState)();a?.get("menuId");let N=Number(a?.get("idTask")),[q,T]=(0,s.useState)({numActividad:"",actividad:"",fechaInicio:"",fechaTermino:"",duracion:0,presupuesto:0,idTask:0,idTransaction:0,idProjectActivity:0,idProject:0,projectName:"",responsable:"",formaEjecucion:"",periodoControl:"",ejecutor:"",ubicacionPanel:"",nroInstalaciones:1,tipoTerreno:"",nivelPiedras:"",nivelFreatico:0});return((0,s.useEffect)(()=>{(async()=>P(await b()))()},[]),(0,s.useEffect)(()=>{let e=async e=>{try{t?.user.id&&await (0,n.Yt)(e,t.user.id,T)}catch(e){console.log("error",e)}};f(!0),N&&N>0&&e(N)},[N,t?.user.id]),(0,s.useEffect)(()=>{t&&j(t?.user.email)},[t]),(0,s.useEffect)(()=>{q.idProject&&q.idProject>0&&f(!1)},[q.idProject]),y)?i.jsx(v.T,{message:"cargando"}):i.jsx(i.Fragment,{children:!y&&(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("p",{className:"text-3xl font-bold text-center",children:[" Define responsable y forma de ejecuci\xf3n de la actividad ",q.numActividad]}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-center",children:[" ",`Proceso: (N\xb0${q.idProject}) "${q.projectName}"`]}),i.jsx(c.J9,{initialValues:q,validationSchema:h,enableReinitialize:!0,onSubmit:a=>{g(a,x),e.back()},children:({values:e,errors:a,touched:t,setFieldValue:s,resetForm:r})=>(0,i.jsxs)(c.l0,{children:[i.jsx("div",{className:"mb-1 flex items-start space-x-2",children:i.jsx("div",{className:"w-3/5",children:i.jsx(c.gN,{name:"actividad",type:"text",as:u.t7,label:"Descripci\xf3n de la actividad",placeholder:"Ingresa la descripci\xf3n de la actividad",error:t.actividad&&a.actividad?a.actividad:void 0,required:!0,theme:"light",width:"100%",onChange:e=>s("actividad",e.target.value)})})}),(0,i.jsxs)("div",{className:"mb-1 flex items-start space-x-2",children:[i.jsx("div",{className:"w-1/5",children:i.jsx(c.gN,{name:"fechaInicio",as:u.ld,label:"Fecha de inicio",placeholder:"Ingresa la fecha de inicio",required:!0,theme:"light",width:"100%",format:"dd-MM-yyyy"})}),i.jsx("div",{className:"w-1/5",children:i.jsx(c.gN,{name:"fechaTermino",as:u.ld,label:"Fecha de t\xe9rmino",placeholder:"Ingresa la fecha de t\xe9rmino",required:!0,theme:"light",width:"100%",format:"dd-MM-yyyyy",onChange:e=>s("fechaInicio",e.target.value)})}),i.jsx("div",{className:"w-1/5",children:i.jsx(u.UN,{label:`(Duraci\xf3n en d\xedas: ${e.duracion}) `,size:"normal+"})})]}),(0,i.jsxs)("div",{className:"mb-1 flex items-start space-x-2",children:[i.jsx("div",{className:"w-1/5",children:i.jsx(c.gN,{name:"presupuesto",type:"number",as:u.t7,label:"Presupuesto",placeholder:"Ingresa presupuesto de la actividad",error:t.presupuesto&&a.presupuesto?a.presupuesto:void 0,theme:"light",width:"70%",onChange:e=>s("presupuesto",e.target.value),textAlign:"right",style:{marginTop:"2px"}})}),i.jsx("div",{className:"w-1/5",children:i.jsx(c.gN,{as:u.AP,label:"Responsable asignado",name:"responsable",options:A||[],placeholder:"Asigne al responsable",width:"100%",required:!0})}),i.jsx("div",{className:"w-1/5",children:i.jsx(c.gN,{as:u.AP,label:"Forma de ejecuci\xf3n actividad",name:"formaEjecucion",options:m.formEjecucionActividadOptions||[],placeholder:"Defina forma de ejecuci\xf3n",width:"100%",required:!0})})]}),i.jsx("div",{className:"flex justify-end space-x-3 mr-10",children:i.jsx(u.op,{buttonStyle:"primary",size:"small",htmlType:"submit",tooltipContent:"Define forma de ejecuci\xf3n y responsable",tooltipPosition:"left",icon:i.jsx(d.G,{icon:p.EdJ,size:"lg",color:"white"}),label:"Actualizar actividad"})})]})}),i.jsx(u.op,{buttonStyle:"primary",size:"small",htmlType:"button",label:"Volver al p\xe1gina anterior",tooltipContent:"Volver a seleccionar otra actividad",tooltipPosition:"right",style:{marginLeft:5},icon:i.jsx(d.G,{icon:p.J9Y,size:"lg",color:"white"}),onClick:()=>{e.back()}})]})})}},19727:(e,a,t)=>{"use strict";t.r(a),t.d(a,{OptionsProjectType:()=>i,formEjecucionActividadOptions:()=>v,optionsCeilingElementType:()=>u,optionsCertificadoAccesoType:()=>n,optionsConectionPointType:()=>o,optionsFormularioType:()=>d,optionsLandType:()=>s,optionsMaterialCielingType:()=>l,optionsOrientationType:()=>c,optionsStoneType:()=>r,plazoControlOptions:()=>m,techoOptions:()=>p});let i=[{value:"piso",label:"En piso"},{value:"techo",label:"En el techo"}],s=[{value:"tierra",label:"Tierra"},{value:"arena",label:"Arena"},{value:"pantanoso",label:"Pantanoso"}],r=[{value:"bajo",label:"Bajo"},{value:"medio",label:"Medio"},{value:"alto",label:"Alto"}],o=[{value:"menor70",label:"Menor a 70 mtrs"},{value:"mayor70",label:">= 70 mtrs"}],l=[{value:"teja asfaltica",label:"Asfalto"},{value:"teja",label:"Teja chilena"},{value:"madera",label:"Madera"}],n=[{value:"conAcceso",label:"Tiene acceso certificado"},{value:"sinCertificado",label:"No tiene acceso certificado"}],c=[{value:"norte",label:"Norte"},{value:"sur",label:"Sur"},{value:"este",label:"Este"},{value:"oeste",label:"Oeste"},{value:"noreste",label:"Noreste"},{value:"sureste",label:"Sureste"},{value:"noroeste",label:"Noroeste"},{value:"suroeste",label:"Suroeste"}],u=[{value:"aireAcondicionado",label:"Aire acondicionado"},{value:"tragaluces",label:"Tragaluz"}],d=[{value:"F4",label:"Formulario F4"},{value:"F2",label:"Formulario F2"}],p=[{value:"aDosAguas",label:"Dos aguas",image:"/techos/dos-aguas.jpg",nroAguas:2},{value:"aCuatroAguas",label:"Cuatro aguas",image:"/techos/cuatro-aguas.jpg",nroAguas:4},{value:"techoMariposa",label:"Mariposa",image:"/techos/mariposa.jpg",nroAguas:2},{value:"techoFormaM",label:"Tipo M",image:"/techos/forma-M.jpg",nroAguas:4},{value:"techoBuhardilla",label:"Dos aguas/buhardilla",image:"/techos/con-buhardilla.jpg",nroAguas:2},{value:"piramide",label:"Pir\xe1mide",image:"/techos/piramide.jpg",nroAguas:4},{value:"cobertizo",label:"Cobertizo",image:"/techos/cobertizo.png",nroAguas:1},{value:"hexagonal",label:"Hexagonal",image:"/techos/hexagonal.jpg",nroAguas:6},{value:"plano",label:"Mediterr\xe1neo",image:"/techos/plano-mediterraneo.jpg",nroAguas:1},{value:"otro",label:"Otro",image:"/techos/otro.jpg",nroAguas:0}],m=[{label:"diario",value:"dia"},{label:"semanal",value:"semana"},{label:"mensual",value:"mes"},{label:"al t\xe9rmino",value:"termino"}],v=[{value:"externa",label:"Subcontrato externo"},{value:"interna",label:"Ejecuci\xf3n interna"}]},63648:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});let i=(0,t(68570).createProxy)(String.raw`D:\Documents\GitHub\voltAdmin\app\activity\adminActivity\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),i=a.X(0,[9276,9154,123,4258,5397],()=>t(2313));module.exports=i})();